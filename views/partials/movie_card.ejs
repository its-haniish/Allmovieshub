<script>
  function handleImageError(img) {
    img.onerror = null; // Prevent infinite loop
    img.src = '/images/loader.gif'; // Use a proper fallback image path
  }
</script>

<a href="/<%= movie.slug %>" class="movie_card">
  <figure>
    <img
      src="<%= movie.poster.startsWith('http') ? movie.poster : `/images/${movie.poster}` %>"
      alt="<%= movie.title %>"
      loading="lazy"
      onerror="handleImageError(this)"
    />
  </figure>
  <figcaption>
    <%= movie.title %>
  </figcaption>
</a>
